import{j as e}from"./jsx-runtime.CYYqVSlZ.js";import{r as u}from"./index.DJO9vBfz.js";import{u as v,p}from"./db.DMtkGhft.js";const q=()=>{const m=v(()=>p.toArray(),[]),[x,o]=u.useState(null),[n,c]=u.useState({name:"",price:"",description:"",type:"",img:""}),r=t=>{const{name:i,value:a}=t.target;c(s=>({...s,[i]:a}))},h=async t=>{t.preventDefault();const{name:i,price:a,description:s,type:l,img:d}=n;await p.add({name:i,price:a,description:s,type:l,img:d}),c({name:"",price:"",description:"",type:"",img:""})},j=async t=>p.delete(t),g=t=>{o(t.id),c({name:t.name,price:t.price,description:t.description,type:t.type,img:t.img})},y=async t=>{await p.update(t,{...n}),o(null),c({name:"",price:"",description:"",type:"",img:""})};return e.jsxs("div",{children:[e.jsx("h1",{children:"Prueba Productos"}),e.jsxs("form",{onSubmit:h,children:[e.jsx("input",{type:"text",name:"name",placeholder:"Nombre",value:n.name,onChange:r,required:!0}),e.jsx("input",{type:"text",name:"price",placeholder:"Precio",value:n.price,onChange:r,required:!0}),e.jsx("input",{type:"text",name:"description",placeholder:"Descripción",value:n.description,onChange:r,required:!0}),e.jsx("input",{type:"text",name:"type",placeholder:"Tipo",value:n.type,onChange:r,required:!0}),e.jsx("input",{type:"text",name:"img",placeholder:"URL de Imagen",value:n.img,onChange:r,required:!0}),e.jsx("button",{type:"submit",className:"bg-sky-300 text-white border",children:"Add"})]}),e.jsx("div",{children:m?.map(({id:t,name:i,price:a,description:s,type:l,img:d})=>e.jsx("div",{className:"flex-row",children:x===t?e.jsxs("div",{className:"flex justify-between",children:[e.jsx("input",{type:"text",name:"name",placeholder:"Nombre",value:n.name,onChange:r,required:!0}),e.jsx("input",{type:"text",name:"price",placeholder:"Precio",value:n.price,onChange:r,required:!0}),e.jsx("input",{type:"text",name:"description",placeholder:"Descripción",value:n.description,onChange:r,required:!0}),e.jsx("input",{type:"text",name:"type",placeholder:"Tipo",value:n.type,onChange:r,required:!0}),e.jsx("input",{type:"text",name:"img",placeholder:"URL de Imagen",value:n.img,onChange:r,required:!0}),e.jsx("button",{onClick:()=>y(t),className:"bg-green-300 text-white border",children:"Update"}),e.jsx("button",{onClick:()=>o(null),className:"bg-gray-300 text-white border",children:"Cancel"})]}):e.jsxs("div",{className:"flex justify-between",children:[e.jsx("p",{children:e.jsx("span",{children:i})}),e.jsx("p",{children:e.jsx("span",{children:a})}),e.jsx("p",{children:e.jsx("span",{children:s})}),e.jsx("p",{children:e.jsx("span",{children:l})}),e.jsx("img",{src:d,alt:i,width:"50",height:"50"}),e.jsxs("div",{children:[e.jsx("i",{onClick:()=>g({id:t,name:i,price:a,description:s,type:l,img:d}),className:"cursor-pointer",children:"Edit"}),e.jsx("i",{onClick:()=>j(t),className:"cursor-pointer ml-2",children:"Delete"})]})]})},t))})]})};export{q as default};
